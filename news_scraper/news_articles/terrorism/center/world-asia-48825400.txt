Media playback is unsupported on your device Media caption The huge blast caused widespread damage

Three people were killed and more than 90 injured, including dozens of children, when Taliban gunmen launched an attack on a government building in the capital, Kabul.

The militants detonated a huge car bomb during the morning rush-hour before storming the building and opening fire on security forces.

A seven-hour gun battle ended with all five insurgents killed, officials said.

The Taliban said it had targeted a facility of the defence ministry.

The attack comes two days after a US special envoy began a seventh round of talks with the militant group in Qatar, aiming to bring an end to the 18-year war.

What happened?

Monday's blast sent a huge plume of smoke over the Puli Mahmood Khan district. Special forces cordoned off the area and sporadic gunfire and explosions could be heard, witnesses say. Helicopter gunships flew overhead.

Image copyright EPA Image caption Many schoolchildren were injured by flying shards of glass

Although three people were confirmed killed in the blast, officials warned that the death toll could rise. About 50 children who were in two nearby schools are among the wounded, the education ministry says.

"These children were in the classrooms when the blast shattered the glass windows," said spokeswoman Nooria Nazhat.

"The world turned upside down" when the car bomb exploded, said Zaher Usman, an employee at the nearby culture ministry.

"When I opened my eyes, the office was filled with smoke and dust and everything was broken - my colleagues were screaming," he told AFP news agency.

Afghan President Ashraf Ghani said that by attacking civilians the Taliban was guilty of a crime against humanity.

In May, the Taliban attacked the Kabul office of a US aid group, killing at least five people and wounding 24.

How are the peace talks?

The Taliban have been negotiating directly with US envoy Zalmay Khalilzad since October.

A potential deal has emerged that would see foreign troops withdraw in return for insurgents guaranteeing that Afghan territory would not be used as a base by foreign militants.

But there are fears, including among Afghan women, that any deal with the Taliban could eventually see the militants sweep back into power and strip away rights and freedoms gained since they were toppled in 2001.

The Taliban has rejected any direct talks with the Afghan government which it calls "a US-imposed puppet regime".