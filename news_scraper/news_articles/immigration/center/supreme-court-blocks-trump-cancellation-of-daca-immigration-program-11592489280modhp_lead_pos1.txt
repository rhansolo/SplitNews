WASHINGTON—The Supreme Court on Thursday rejected the Trump administration’s cancellation of an Obama-era program that provided legal protections and work permits to unauthorized immigrants who came to the U.S. as children.

The court, in a 5-4 opinion by Chief Justice John Roberts, said the administration acted arbitrarily when it moved to end the Deferred Action for Childhood Arrivals program, failing to offer adequate reasons for doing so.

...